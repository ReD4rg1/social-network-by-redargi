(this["webpackJsonpreact-my-project-1"]=this["webpackJsonpreact-my-project-1"]||[]).push([[0],{106:function(e,t,s){e.exports={container:"Preloader_container__2B_5C"}},117:function(e,t,s){},118:function(e,t,s){},15:function(e,t,s){e.exports={navContent:"Navbar_navContent__CEjJZ",item:"Navbar_item__278OC",active:"Navbar_active__3F0dN"}},19:function(e,t,s){e.exports={container:"Profile_container__3B23T",imgContainer:"Profile_imgContainer__3eGgO",imgMutableContainer:"Profile_imgMutableContainer__3Mmpn",otherContainer:"Profile_otherContainer__2OITU",userInfo:"Profile_userInfo__1j_Wc",userInfoContainer:"Profile_userInfoContainer__2gkVh",info:"Profile_info__1MOwd",infoTitle:"Profile_infoTitle__3B1OP",infoText:"Profile_infoText__1MVC_",posts:"Profile_posts__-uJz0"}},22:function(e,t,s){e.exports={container:"Dialogs_container__lUbiE",dialogs:"Dialogs_dialogs__8-eVn",dialogsTitle:"Dialogs_dialogsTitle__U24hd",dialogItems:"Dialogs_dialogItems__1N_VY",messages:"Dialogs_messages__1Gim0",messagesUser:"Dialogs_messagesUser__QG9kS",messagesUserImage:"Dialogs_messagesUserImage__1vZ05",messagesUserName:"Dialogs_messagesUserName__1iygx",messageItems:"Dialogs_messageItems__2ZCZI",messageSend:"Dialogs_messageSend__1Wj6S"}},23:function(e,t,s){e.exports={wrapper:"Login_wrapper__2Vsu3",container:"Login_container__1Rpns",formCheckbox:"Login_formCheckbox__zrYE1",formButton:"Login_formButton__2ELLp",error:"Login_error__3Uhir"}},243:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),r=s(55),i=s.n(r),c=(s(117),s(4)),o=s(5),l=s(6),u=s(7),d=(s(118),s(15)),j=s.n(d),p=s(13),m=s(0),b=function(){return Object(m.jsxs)("nav",{children:[Object(m.jsxs)("div",{className:j.a.navContent,children:[Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(p.b,{to:"/profile",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Profile"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(p.b,{to:"/dialogs",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Messages"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(p.b,{to:"/friends",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Friends"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(p.b,{to:"/find_friends",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Find Friends"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(p.b,{to:"/news",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"News"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(p.b,{to:"/music",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Music"})})]}),Object(m.jsx)("div",{className:j.a.navSettings,children:Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)("a",{href:"/#",children:"Settings"})})})]})},h=s(2),f=s(9),g="UPDATE-NEW-MESSAGE-TEXT",O="ADD-MESSAGE",x={dialogsData:[{id:1,name:"Eldar",message:"Hey, Kirill, do you like a...?"},{id:2,name:"Drug",message:"go bf"},{id:3,name:"Egor",message:"hahahah"}],messagesData:[{id:1,name:"Eldar",message:"Hey, Kirill, do you like a..."},{id:2,name:"Kirill",message:"bf1?"},{id:3,name:"Eldar",message:"no"}],newMessageText:"message text"},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return""!==e.newMessageText?Object(h.a)(Object(h.a)({},e),{},{newMessageText:"",messagesData:[].concat(Object(f.a)(e.messagesData),[{id:4,name:"Kirill",message:e.newMessageText}])}):e;case g:return Object(h.a)(Object(h.a)({},e),{},{newMessageText:t.newText});default:return e}},v=s(22),N=s.n(v),w=s(35),P=s.n(w),C=s.p+"static/media/Anos.5dc42490.jpg",S=function(e){return Object(m.jsx)(p.b,{to:"/dialogs/".concat(e.id),className:function(e){return e.isActive?"".concat(P.a.active):""},children:Object(m.jsxs)("div",{className:P.a.container,children:[Object(m.jsx)("img",{src:C,alt:"#"}),Object(m.jsxs)("div",{className:P.a.item,children:[Object(m.jsx)("div",{className:P.a.itemName,children:e.name}),Object(m.jsx)("div",{className:P.a.message,children:Object(m.jsx)("div",{className:P.a.messageItem,children:e.message})})]})]})})},I=s(44),T=s.n(I),y=s.p+"static/media/avatar.b7b1738b.jpg",U=function(e){var t=y;return"Eldar"===e.name&&(t=C),Object(m.jsxs)("div",{className:T.a.container,children:[Object(m.jsx)("img",{src:t,alt:"#"}),Object(m.jsxs)("div",{className:T.a.item,children:[Object(m.jsx)("div",{className:T.a.userName,children:e.name}),Object(m.jsx)("div",{className:T.a.userMessage,children:e.message})]})]})},D=function(e){var t=e.dialogsData.map((function(e){return Object(m.jsx)(S,{id:e.id,name:e.name,message:e.message},e.id)})),s=e.messagesData.map((function(e){return Object(m.jsx)(U,{id:e.id,name:e.name,message:e.message},e.id)})),a=n.a.createRef();return Object(m.jsxs)("div",{className:N.a.container,children:[Object(m.jsxs)("div",{className:N.a.dialogs,children:[Object(m.jsx)("div",{className:N.a.dialogsTitle,children:"Dialogs"}),Object(m.jsx)("div",{className:N.a.dialogItems,children:t})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:N.a.messages,children:[Object(m.jsxs)("div",{className:N.a.messagesUser,children:[Object(m.jsx)("div",{className:N.a.messagesUserName,children:"Eldarbek"}),Object(m.jsx)("div",{className:N.a.messagesUserImage,children:Object(m.jsx)("img",{src:C,alt:"#"})})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:N.a.messageItems,children:s}),Object(m.jsxs)("div",{className:N.a.messageSend,children:[Object(m.jsx)("textarea",{onChange:function(){var t=a.current.value;e.onMessageChange(t)},ref:a,rows:1,value:e.newMessageText}),Object(m.jsx)("button",{onClick:function(){e.addMessage()},children:"Send Message"})]})]})]})},k=s(12),E=s(3),A=function(e){return{isAuth:e.auth.isAuth}},M=function(e){var t=function(t){Object(l.a)(a,t);var s=Object(u.a)(a);function a(){return Object(c.a)(this,a),s.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(m.jsx)(e,Object(h.a)({},this.props)):Object(m.jsx)(E.a,{to:"/login"})}}]),a}(n.a.Component);return Object(k.b)(A)(t)},F=s(20),L=Object(F.c)(Object(k.b)((function(e){return Object(h.a)({},e.dialogsPage)}),(function(e){return{addMessage:function(){e({type:O})},onMessageChange:function(t){e(function(e){return{type:g,newText:e}}(t))}}})),M)(D),R=s(11),z=s.n(R),G=s(21),W=s(105),Z=s.n(W).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"67e9bc59-d756-4699-841e-f4005ff4fe7c"}}),H=function(e){return Z.get("users?page=".concat(e.currentPage,"&count=").concat(e.pageSize)).then((function(e){return e.data}))},V=function(e){return Z.post("follow/".concat(e.userId)).then((function(e){return e.data}))},X=function(e){return Z.delete("follow/".concat(e.userId)).then((function(e){return e.data}))},B=function(e){return Z.get("profile/".concat(e)).then((function(e){return e.data}))},J=function(e){return Z.get("profile/status/".concat(e)).then((function(e){return e.data}))},K=function(e){return Z.put("profile/status",{status:e}).then((function(e){return e.data}))},Y=function(){return Z.get("auth/me").then((function(e){return e.data}))},Q=function(e,t,s){return Z.post("auth/login",{email:e,password:t,rememberMe:s}).then((function(e){return e.data}))},q=function(){return Z.delete("auth/login").then((function(e){return e.data}))},$="FOLLOW",ee="UPDATE-NEW-FIND-USERS-TEXT",te="SET-USERS",se="SET-CURRENT-PAGE",ae="TOGGLE-IS-FETCHING",ne="IS-FOLLOWING-PROGRESS",re={users:[],newFindUsersText:"Who are you?",pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},ie=function(e){return{type:$,userId:e}},ce=function(e){return{type:ae,isFetching:e}},oe=function(e,t){return{type:ne,followingInProgress:e,userId:t}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(h.a)(Object(h.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(h.a)(Object(h.a)({},e),{},{followed:!e.followed}):e}))});case ae:return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.isFetching});case ne:return Object(h.a)(Object(h.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(f.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});case te:return Object(h.a)(Object(h.a)({},e),{},{users:Object(f.a)(t.users),totalUsersCount:t.totalUsersCount});case ee:return Object(h.a)(Object(h.a)({},e),{},{newFindUsersText:t.newText});case se:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.newPage});default:return e}},ue=s(32),de=s.n(ue),je=s(27),pe=s.n(je),me=function(e){var t="Follow";return e.followedStatus&&(t="Unfollow"),Object(m.jsxs)("div",{className:pe.a.container,children:[Object(m.jsxs)("div",{className:pe.a.following,children:[Object(m.jsx)("img",{src:null!=e.photo?e.photo:C,alt:"#"}),Object(m.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){e.follow(e.id,e.followedStatus)},children:t})]}),Object(m.jsxs)("div",{className:pe.a.info,children:[Object(m.jsx)("div",{className:pe.a.name,children:Object(m.jsx)(p.b,{to:"/profile/"+e.id,children:e.name})}),Object(m.jsx)("div",{className:pe.a.status,children:e.status})]}),Object(m.jsxs)("div",{className:pe.a.location,children:[Object(m.jsx)("div",{className:pe.a.country}),Object(m.jsx)("div",{className:pe.a.city})]})]})},be=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=e.currentPage,a=[],n=s-2;n<=s+2;n++)n>0&&n<=t&&a.push(n);return Object(m.jsx)("div",{className:de.a.pagesCount,children:a.map((function(t){return Object(m.jsx)("div",{className:de.a.pageNumber,children:Object(m.jsx)("div",{onClick:function(){e.onPageChange(t)},className:e.currentPage===t?"".concat(de.a.pageNumberActive):"",children:t})})}))})},he=function(e){var t=n.a.createRef();return Object(m.jsxs)("div",{className:de.a.container,children:[Object(m.jsxs)("div",{className:de.a.search,children:[Object(m.jsx)("textarea",{onChange:function(){var s=t.current.value;e.updateNewFindUsersText(s)},ref:t,rows:1,value:e.newFindUsersText}),Object(m.jsx)("button",{children:"Search"})]}),Object(m.jsx)(be,Object(h.a)({},e)),Object(m.jsx)("div",{className:de.a.users,children:e.users.map((function(t){return Object(m.jsx)(me,{id:t.id,name:t.name,status:t.status,location:t.location,photo:t.photos.small,followedStatus:t.followed,follow:e.follow,followingInProgress:e.followingInProgress},t.id)}))}),Object(m.jsx)(be,Object(h.a)({},e))]})},fe=s.p+"static/media/Loading2.f5795cff.svg",ge=s(106),Oe=s.n(ge),xe=function(e){return Object(m.jsx)(m.Fragment,{children:e.isFetching?Object(m.jsx)("div",{className:Oe.a.container,children:Object(m.jsx)("img",{src:fe,alt:"#"})}):Object(m.jsx)("div",{})})},_e=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).onPageChange=function(t){t!==e.props.findUsersPage.currentPage&&e.props.getUsers(t,e.props.findUsersPage.pageSize)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.findUsersPage.currentPage,this.props.findUsersPage.pageSize)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(xe,{isFetching:this.props.findUsersPage.isFetching}),Object(m.jsx)(he,Object(h.a)(Object(h.a)({},this.props.findUsersPage),{},{updateNewFindUsersText:this.props.updateNewFindUsersText,onPageChange:this.onPageChange,follow:this.props.followToggle}))]})}}]),s}(n.a.Component),ve=Object(F.c)(Object(k.b)((function(e){return{findUsersPage:e.findUsersPage}}),{updateNewFindUsersText:function(e){return{type:ee,newText:e}},getUsers:function(e,t){return function(){var s=Object(G.a)(z.a.mark((function s(a){var n;return z.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a({type:se,newPage:e}),a(ce(!0)),s.next=4,H({currentPage:e,pageSize:t});case 4:n=s.sent,a({type:te,users:(r=n).items,totalUsersCount:r.totalCount}),a(ce(!1));case 7:case"end":return s.stop()}var r}),s)})));return function(e){return s.apply(this,arguments)}}()},followToggle:function(e,t){return function(){var s=Object(G.a)(z.a.mark((function s(a){return z.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a(oe(!0,e)),s.next=3,t?X({userId:e}):V({userId:e});case 3:0===s.sent.resultCode&&(a(ie(e)),a(oe(!1)));case 5:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}}),M)(_e),Ne=s.p+"static/media/backgroundArt.59e9f6f3.jpg",we=s(19),Pe=s.n(we),Ce=s(45),Se=s.n(Ce),Ie=s(28),Te=s.n(Ie),ye=function(e){return Object(m.jsxs)("div",{className:Te.a.post,children:[Object(m.jsxs)("div",{className:Te.a.userInfo,children:[Object(m.jsx)("img",{src:y,alt:"#"}),Object(m.jsx)("div",{className:Te.a.userName,children:"D4Rg1"})]}),Object(m.jsxs)("div",{className:Te.a.postContent,children:[Object(m.jsx)("div",{className:Te.a.postText,children:e.message}),Object(m.jsxs)("div",{className:Te.a.likes,children:[Object(m.jsx)("div",{className:Te.a.likePost,children:"Like It"}),Object(m.jsx)("div",{className:Te.a.likesCounts,children:e.likesCount})]})]})]})},Ue=function(e){var t=e.profilePage.postsData.map((function(e){return Object(m.jsx)(ye,{id:e.id,name:e.name,message:e.message,likesCount:e.likesCount},e.id)})),s=n.a.createRef();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:Se.a.posts,children:[Object(m.jsx)("div",{className:Se.a.postsTitle,children:"My Posts"}),Object(m.jsxs)("div",{className:Se.a.postsSend,children:[Object(m.jsx)("textarea",{rows:1,onChange:function(){var t=s.current.value;e.updateNewPostText(t)},ref:s,value:e.profilePage.newPostText}),Object(m.jsx)("button",{onClick:function(){e.addPost()},children:"Send Post"})]})]}),Object(m.jsx)("div",{className:Se.a.posts,children:t})]})},De="ADD-POST",ke="UPDATE-NEW-POST-TEXT",Ee="SET-USER-PROFILE",Ae="TOGGLE-IS-FETCHING",Me="SET-STATUS",Fe={postsData:[],profileData:null,newPostText:"post text",isFetching:!0,status:null},Le=function(e){return{type:Me,status:e}},Re=function(e){return{type:Ae,isFetching:e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return""!==e.newPostText?Object(h.a)(Object(h.a)({},e),{},{newPostText:"",postsData:[].concat(Object(f.a)(e.postsData),[{id:3,message:e.newPostText,likesCount:0}])}):e;case Ee:return Object(h.a)(Object(h.a)({},e),{},{profileData:t.data});case Me:return Object(h.a)(Object(h.a)({},e),{},{status:t.status});case ke:return Object(h.a)(Object(h.a)({},e),{},{newPostText:t.newText});case Ae:return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.isFetching});default:return e}},Ge=Object(k.b)((function(e){return{profilePage:e.profilePage}}),{addPost:function(){return{type:De}},updateNewPostText:function(e){return{type:ke,newText:e}}})(Ue),We=s(61),Ze=s.n(We),He=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={editMode:!1,status:e.props.status,statusChanged:!1},e.toggleEditMode=function(){e.setState({editMode:!e.state.editMode})},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value,statusChanged:!0})},e.onClickApply=function(){e.props.updateStatus(e.state.status),e.setState({statusChanged:!1})},e.onClickCancel=function(){e.setState({status:e.props.status,statusChanged:!1})},e}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(e,t,s){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:Ze.a.container,children:["Status:  ",this.props.isOwner?this.state.editMode?Object(m.jsx)("div",{className:Ze.a.statusEditor,children:Object(m.jsx)("input",{autoFocus:!0,onChange:this.onStatusChange,onBlur:this.toggleEditMode,value:this.state.status})}):Object(m.jsxs)("div",{className:Ze.a.statusContainer,children:[Object(m.jsx)("span",{onClick:this.toggleEditMode,children:this.state.status?this.state.status:"No status"}),this.state.statusChanged?Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:this.onClickApply,children:"Apply"}),Object(m.jsx)("button",{onClick:this.onClickCancel,children:"Cancel"})]}):Object(m.jsx)("div",{})]}):this.state.status?this.state.status:"No status"]})}}]),s}(n.a.Component),Ve=He,Xe=function(e){if(!e.profileData)return Object(m.jsx)(m.Fragment,{});var t=" Name";null!==e.profileData.fullName&&(t=" "+e.profileData.fullName);var s=" About Me";null!==e.profileData.aboutMe&&(s=" "+e.profileData.aboutMe);var a,n=" Web Site";null!==e.profileData.contacts.website&&(n=" "+e.profileData.contacts.website),a=!0===e.profileData.lookingForAJob?" Yes":" No";var r=" Description";null!==e.profileData.lookingForAJobDescription&&(r=" "+e.profileData.lookingForAJobDescription);var i=y;null!==e.profileData.photos.small&&(i=e.profileData.photos.small);var c=Ne;return null!==e.profileData.photos.large&&(c=e.profileData.photos.large),Object(m.jsxs)("div",{className:Pe.a.container,children:[Object(m.jsx)("div",{className:Pe.a.imgContainer,children:e.isOwner?Object(m.jsx)("div",{className:Pe.a.imgMutableContainer,children:Object(m.jsx)("img",{src:c,alt:"#"})}):Object(m.jsx)("img",{src:c,alt:"#"})}),Object(m.jsxs)("div",{className:Pe.a.otherContainer,children:[Object(m.jsxs)("div",{className:Pe.a.userInfo,children:[Object(m.jsxs)("div",{className:Pe.a.userInfoContainer,children:[e.isOwner?Object(m.jsx)("div",{className:Pe.a.imgMutableContainer,children:Object(m.jsx)("img",{src:i,alt:"#"})}):Object(m.jsx)("img",{src:i,alt:"#"}),Object(m.jsxs)("div",{className:Pe.a.info,children:[Object(m.jsx)("div",{className:Pe.a.infoTitle,children:t.toUpperCase()}),Object(m.jsxs)("div",{className:Pe.a.infoText,children:[Object(m.jsxs)("div",{children:["About Me:",Object(m.jsx)("span",{children:s})]}),Object(m.jsxs)("div",{children:["Looking For a Job:",Object(m.jsx)("span",{children:a})]}),Object(m.jsxs)("div",{children:["Description:",Object(m.jsx)("span",{children:r})]}),Object(m.jsxs)("div",{children:["Web-site:",Object(m.jsx)("span",{children:n})]})]})]})]}),Object(m.jsx)(Ve,{status:e.profileStatus,updateStatus:e.updateStatus,isOwner:e.isOwner})]}),Object(m.jsx)("div",{className:Pe.a.posts,children:Object(m.jsx)(Ge,{})})]})]})},Be=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e;e=null===this.props.match?this.props.authUserId:this.props.match.params.userId,this.props.getProfileData(e),this.props.getStatus(e)}},{key:"componentDidUpdate",value:function(e,t,s){var a;this.props.match!==e.match&&(a=null===this.props.match?this.props.authUserId:this.props.match.params.userId,this.props.getProfileData(a),this.props.getStatus(a))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(xe,{isFetching:this.props.profilePage.isFetching}),Object(m.jsx)(Xe,{profileData:this.props.profilePage.profileData,updateStatus:this.props.updateStatus,profileStatus:this.props.profilePage.status,isOwner:!this.props.match})]})}}]),s}(n.a.Component),Je=Object(F.c)(Object(k.b)((function(e){return{profilePage:e.profilePage,authUserId:e.auth.userId}}),{getProfileData:function(e){return function(){var t=Object(G.a)(z.a.mark((function t(s){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:a=t.sent,s({type:Ee,data:a}),s(Re(!1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(G.a)(z.a.mark((function t(s){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(Re(!0)),t.next=3,J(e);case 3:a=t.sent,s(Le(a)),s(Re(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(G.a)(z.a.mark((function t(s){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(Re(!0)),t.next=3,K(e);case 3:0===t.sent.data.resultCode&&s(Le(e)),s(Re(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),M)((function(e){var t=Object(E.g)("profile/:userId/");return Object(m.jsx)(Be,Object(h.a)(Object(h.a)({},e),{},{match:t}))})),Ke=s.p+"static/media/logo.6ce24c58.svg",Ye=s(46),Qe=s.n(Ye),qe=function(e){return Object(m.jsxs)("header",{children:[Object(m.jsxs)("div",{className:Qe.a.headerTitle,children:[Object(m.jsx)("img",{src:Ke,alt:"#"}),Object(m.jsx)("div",{className:Qe.a.title,children:"Social Network by Musenov Kirill"})]}),Object(m.jsxs)("div",{className:Qe.a.headerLogin,children:[e.isAuth?Object(m.jsxs)("div",{className:Qe.a.logOut,children:[e.name,Object(m.jsx)("button",{onClick:e.logout,children:"Log Out"})]}):Object(m.jsx)(p.b,{to:"/login",children:"Login"}),e.userid]})]})},$e="SET-USERS-DATA",et={userId:null,email:null,login:null,isAuth:!1},tt=function(e){return{type:$e,payload:{userId:e.data.id,email:e.data.email,login:e.data.login,isAuth:e.isAuth}}},st=function(){return function(){var e=Object(G.a)(z.a.mark((function e(t){var s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:0===(s=e.sent).resultCode?t(tt({data:s.data,isAuth:!0})):t(tt({data:s.data,isAuth:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;return t.type===$e?Object(h.a)(Object(h.a)({},e),t.payload):e},nt=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(m.jsx)(qe,{isAuth:this.props.auth.isAuth,name:this.props.auth.login,logout:this.props.logout})}}]),s}(n.a.Component),rt=Object(k.b)((function(e){return{auth:e.auth}}),{setUsersData:tt,logout:function(){return function(){var e=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:0===e.sent.resultCode&&t(st());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(nt),it=rt,ct=s(23),ot=s.n(ct),lt=s(39),ut=s(62),dt=function(e){return Object(m.jsx)(lt.c,{initialValues:{email:"",password:"",rememberMe:!1},validationSchema:jt,onSubmit:function(t,s){var a=s.resetForm,n=s.setStatus,r=s.setSubmitting;e.login({values:t,setStatus:n,resetForm:a,setSubmitting:r})},children:function(e){var t=e.errors,s=e.touched,a=e.status;return Object(m.jsxs)(lt.b,{children:[Object(m.jsxs)("div",{className:ot.a.formInput,children:[Object(m.jsx)(lt.a,{name:"email",placeholder:"Email"}),t.email&&s.email?Object(m.jsx)("div",{className:ot.a.error,children:t.email}):null,a&&a.messageEmail?Object(m.jsx)("div",{className:ot.a.error,children:a.messageEmail}):null]}),Object(m.jsxs)("div",{className:ot.a.formInput,children:[Object(m.jsx)(lt.a,{name:"password",placeholder:"Password",type:"password"}),t.password&&s.password?Object(m.jsx)("div",{className:ot.a.error,children:t.password}):null,a&&a.messagePassword?Object(m.jsx)("div",{className:ot.a.error,children:a.messagePassword}):null]}),Object(m.jsxs)("div",{className:ot.a.formCheckbox,children:[Object(m.jsx)(lt.a,{name:"rememberMe",type:"checkbox"})," Remember me"]}),Object(m.jsx)("div",{className:ot.a.formButton,children:Object(m.jsx)("button",{type:"submit",children:"Sign In"})})]})}})},jt=ut.a().shape({email:ut.b().email("Invalid email").required("Required"),password:ut.b().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),pt=function(e){return Object(m.jsx)("div",{className:ot.a.wrapper,children:Object(m.jsxs)("div",{className:ot.a.container,children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsx)(dt,{login:e.login})]})})},mt=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return this.props.auth.isAuth?Object(m.jsx)(E.a,{to:"/profile"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(xe,{}),Object(m.jsx)(pt,{login:this.props.login,isAuth:this.props.auth.isAuth})]})}}]),s}(n.a.Component),bt=Object(k.b)((function(e){return{auth:e.auth}}),{login:function(e){return function(){var t=Object(G.a)(z.a.mark((function t(s){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e.values.email,e.values.password,e.values.rememberMe);case 2:0===(a=t.sent).resultCode?(s(st()),e.setSubmitting(!1),e.resetForm()):(e.setSubmitting(!1),e.setStatus({messageEmail:a.messages[0],messagePassword:a.messages[1]}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(mt),ht="INIT-SUCCESS",ft={initialized:!1},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;return t.type===ht?Object(h.a)(Object(h.a)({},e),{},{initialized:t.initialized}):e},Ot=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"render",value:function(){return Object(m.jsx)(p.a,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{className:"App-wrapper",children:[Object(m.jsx)(it,{}),Object(m.jsx)(b,{}),Object(m.jsx)("div",{className:"content",children:this.props.app.initialized?Object(m.jsxs)(E.d,{children:[Object(m.jsx)(E.b,{path:"/profile/*",element:Object(m.jsx)(Je,{})}),Object(m.jsx)(E.b,{path:"/dialogs/*",element:Object(m.jsx)(L,{})}),Object(m.jsx)(E.b,{path:"/find_friends/*",element:Object(m.jsx)(ve,{})}),Object(m.jsx)(E.b,{path:"/login/*",element:Object(m.jsx)(bt,{})})]}):Object(m.jsx)(xe,{})})]})})})}}]),s}(a.Component),xt=Object(k.b)((function(e){return{app:e.app}}),{initialize:function(){return function(e){e(st()).then((function(){return e({type:ht,initialized:!0})}))}}})(Ot),_t=s(112),vt=Object(F.b)({profilePage:ze,dialogsPage:_,findUsersPage:le,auth:at,app:gt}),Nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,wt=Object(F.d)(vt,Nt(Object(F.a)(_t.a)));i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(k.a,{store:wt,children:Object(m.jsx)(xt,{})})}),document.getElementById("root"))},27:function(e,t,s){e.exports={container:"UsersItem_container__VAbId",following:"UsersItem_following__OIha-",info:"UsersItem_info__1_jZt",name:"UsersItem_name__U1nFZ",status:"UsersItem_status__3ST2X",location:"UsersItem_location__3KUf8",country:"UsersItem_country__GL30U",city:"UsersItem_city__559E7"}},28:function(e,t,s){e.exports={post:"Post_post__1ffCS",userInfo:"Post_userInfo__RAQ3Z",userName:"Post_userName__c7Ys0",postContent:"Post_postContent__dgAID",postText:"Post_postText__3F8MI",likes:"Post_likes__UkGIy",likePost:"Post_likePost__2vU5R",active:"Post_active__1mNXf",likesCounts:"Post_likesCounts__39Av3"}},32:function(e,t,s){e.exports={container:"FindUsers_container__137HA",search:"FindUsers_search__13PRA",pagesCount:"FindUsers_pagesCount__1kEFY",pageNumber:"FindUsers_pageNumber__ozwpZ",pageNumberActive:"FindUsers_pageNumberActive__3PhTQ",users:"FindUsers_users__2R3B1"}},35:function(e,t,s){e.exports={container:"DialogItem_container__1mIkp",item:"DialogItem_item__UnnJs",itemName:"DialogItem_itemName__3vAUX",message:"DialogItem_message__2l10F",messageItem:"DialogItem_messageItem__24twA",active:"DialogItem_active__2yfTm"}},44:function(e,t,s){e.exports={container:"Messages_container__15ZFT",item:"Messages_item__2LaXZ",userName:"Messages_userName__3s3XK",userMessage:"Messages_userMessage__1VDwT"}},45:function(e,t,s){e.exports={posts:"MyPosts_posts__LSjmD",postsTitle:"MyPosts_postsTitle__1KF3a",postsSend:"MyPosts_postsSend__TsmNw"}},46:function(e,t,s){e.exports={headerTitle:"Header_headerTitle__67goC",title:"Header_title__22-MO",headerLogin:"Header_headerLogin__2gxWQ",logOut:"Header_logOut__4D1VC"}},61:function(e,t,s){e.exports={container:"ProfileStatus_container__2wZ0R",statusContainer:"ProfileStatus_statusContainer__2O6Q5",statusEditor:"ProfileStatus_statusEditor__oy1pH"}}},[[243,1,2]]]);
//# sourceMappingURL=main.0a07f44e.chunk.js.map